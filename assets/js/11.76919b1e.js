(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{407:function(t,_,s){"use strict";s.r(_);var v=s(50),e=Object(v.a)({},(function(){var t=this,_=t.$createElement,s=t._self._c||_;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("p",[t._v("这是 NAS 主要功能的介绍，共享目录。")]),t._v(" "),s("blockquote",[s("p",[t._v("本文所介绍的权限控制主要是 ACL，按照 OMV 文档说明："),s("br"),t._v("\nProvides fine grained permission control besides the standard POSIX permissions. The usage of ACL is not recommended for the average home user. If a server is using an extensive list of users then ACL could suit better"),s("sup",{staticClass:"footnote-ref"},[s("a",{attrs:{href:"#fn1",id:"fnref1"}},[t._v("[1]")])]),t._v("."),s("br"),t._v("\n 简单来说就是人少不建议用 ACL，但是有大量用户的时候 ACL 更加合适。")])]),t._v(" "),s("h2",{attrs:{id:"raid-管理"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#raid-管理"}},[t._v("#")]),t._v(" RAID 管理")]),t._v(" "),s("p",[t._v("首先看 RAID 管理，在 omv 里，组件 RAID 有多种方式，比如像 freenas 一样，用 zfs，但是相比之下，我更推荐直接使用软 RAID。")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://blog.xxwhite.com/assets/img/2020/09/200904_114237_msedge_W14X.png",alt:"zfs插件"}})]),t._v(" "),s("p",[t._v("在  "),s("code",[t._v("存储器")]),t._v("  -  "),s("code",[t._v("RAID管理")]),t._v("  选项卡里，可以管理和新建 RAID，本期只讲创建 RAID，扩充和恢复，以后再讲。")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://blog.xxwhite.com/assets/img/2020/09/200904_115033_msedge_hdkh.png",alt:"RAID类型"}})]),t._v(" "),s("p",[t._v("点击  "),s("code",[t._v("新建")]),t._v(" ，可以看到 RAID 级别有这么多种，简单的对应关系如下表"),s("sup",{staticClass:"footnote-ref"},[s("a",{attrs:{href:"#fn2",id:"fnref2"}},[t._v("[2]")])]),t._v("：")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("名称")]),t._v(" "),s("th",[t._v("RAID 级别")]),t._v(" "),s("th",[t._v("最少硬盘")]),t._v(" "),s("th",[t._v("最大容错")]),t._v(" "),s("th",[t._v("可用容量")]),t._v(" "),s("th",[t._v("读取性能")]),t._v(" "),s("th",[t._v("写入性能")]),t._v(" "),s("th",[t._v("安全性")]),t._v(" "),s("th",[t._v("目的")]),t._v(" "),s("th",[t._v("应用产业")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("带条")]),t._v(" "),s("td",[t._v("0")]),t._v(" "),s("td",[t._v("1")]),t._v(" "),s("td",[t._v("0")]),t._v(" "),s("td",[t._v("n")]),t._v(" "),s("td",[t._v("n")]),t._v(" "),s("td",[t._v("n")]),t._v(" "),s("td",[t._v("一个硬盘异常，全部硬盘都会异常")]),t._v(" "),s("td",[t._v("追求最大容量、速度")]),t._v(" "),s("td",[t._v("影片剪接缓存用途")])]),t._v(" "),s("tr",[s("td",[t._v("镜像")]),t._v(" "),s("td",[t._v("1")]),t._v(" "),s("td",[t._v("2")]),t._v(" "),s("td",[t._v("n-1")]),t._v(" "),s("td",[t._v("1")]),t._v(" "),s("td",[t._v("n")]),t._v(" "),s("td",[t._v("1")]),t._v(" "),s("td",[t._v("高，一个正常即可")]),t._v(" "),s("td",[t._v("追求最大安全性 个人、企业备份")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("线性")]),t._v(" "),s("td",[t._v("JBOD")]),t._v(" "),s("td",[t._v("1")]),t._v(" "),s("td",[t._v("0")]),t._v(" "),s("td",[t._v("n")]),t._v(" "),s("td",[t._v("1")]),t._v(" "),s("td",[t._v("1")]),t._v(" "),s("td",[t._v("无（同 RAID 0）")]),t._v(" "),s("td",[t._v("增加容量")]),t._v(" "),s("td",[t._v("个人（暂时）存储备份")])]),t._v(" "),s("tr",[s("td",[t._v("RAID 5")]),t._v(" "),s("td",[t._v("5")]),t._v(" "),s("td",[t._v("3")]),t._v(" "),s("td",[t._v("1")]),t._v(" "),s("td",[t._v("n-1")]),t._v(" "),s("td",[t._v("n-1")]),t._v(" "),s("td",[t._v("n-1")]),t._v(" "),s("td",[t._v("高")]),t._v(" "),s("td",[t._v("追求最大容量、最小预算 个人、企业备份")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("RAID 6")]),t._v(" "),s("td",[t._v("6")]),t._v(" "),s("td",[t._v("4")]),t._v(" "),s("td",[t._v("2")]),t._v(" "),s("td",[t._v("n-2")]),t._v(" "),s("td",[t._v("n-2")]),t._v(" "),s("td",[t._v("n-2")]),t._v(" "),s("td",[t._v("安全性较 RAID 5 高")]),t._v(" "),s("td",[t._v("同 RAID 5，但较安全")]),t._v(" "),s("td",[t._v("个人、企业备份")])])])]),t._v(" "),s("p",[t._v("我们这次挂载了 3 块硬盘，所以就用 RAID5，如果有 5 块或更多硬盘，推荐使用 RAID6，但是每个阵列最好不要超过 8 块硬盘。")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://blog.xxwhite.com/assets/img/2020/09/200904_140645_msedge_KfR8.png",alt:"创建RAID"}})]),t._v(" "),s("p",[t._v("新创建的 RAID 最好不要马上使用，可以创建分区，但不要马上去写入内容。")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://blog.xxwhite.com/assets/img/2020/09/200904_140859_msedge_RKVg.png",alt:"RAID"}})]),t._v(" "),s("blockquote",[s("p",[t._v("提示：如果硬盘上有其他分区，请先擦除硬盘，否则无法创建 RAID。"),s("br"),t._v(" "),s("img",{attrs:{src:"https://blog.xxwhite.com/assets/img/2020/09/200904_135813_msedge_GZ8E.png",alt:"擦除硬盘"}})])]),t._v(" "),s("h2",{attrs:{id:"创建文件系统"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#创建文件系统"}},[t._v("#")]),t._v(" 创建文件系统")]),t._v(" "),s("p",[t._v("创建好 RAID 之后，再到  "),s("code",[t._v("文件系统")]),t._v("  选项卡中创建文件系统，设备就选刚才创建的 RAID，文件系统类型推荐使用 btrfs。")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://blog.xxwhite.com/assets/img/2020/09/200904_142620_msedge_tsC3.png",alt:"创建文件系统"}})]),t._v(" "),s("p",[t._v("创建完成之后不要忘记挂载分区。")]),t._v(" "),s("h2",{attrs:{id:"共享文件夹"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#共享文件夹"}},[t._v("#")]),t._v(" 共享文件夹")]),t._v(" "),s("p",[t._v("找到  "),s("code",[t._v("共享文件夹")]),t._v("  选项卡，在这里面创建共享文件夹。")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://blog.xxwhite.com/assets/img/2020/09/200904_145010_msedge_x7bw.png",alt:""}})]),t._v(" "),s("p",[s("img",{attrs:{src:"https://blog.xxwhite.com/assets/img/2020/09/200904_145058_msedge_TWQQ.png",alt:""}})]),t._v(" "),s("h2",{attrs:{id:"用户和权限管理"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#用户和权限管理"}},[t._v("#")]),t._v(" 用户和权限管理")]),t._v(" "),s("blockquote",[s("p",[t._v("权限管理这部分大家看看就好，我写的也不是特别好，虽然会用，但是不能总结不出来权限管理应该怎么用。")])]),t._v(" "),s("h3",{attrs:{id:"用户组权限管理"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#用户组权限管理"}},[t._v("#")]),t._v(" 用户组权限管理")]),t._v(" "),s("p",[t._v("这种情况适合企业或者小型工作室使用。")]),t._v(" "),s("p",[t._v("下面的演示我们以用户组 + 用户权限管理为例。")]),t._v(" "),s("p",[t._v("首先创建三个用户组")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://blog.xxwhite.com/assets/img/2020/09/200904_144635_msedge_Jo53.png",alt:""}})]),t._v(" "),s("p",[s("img",{attrs:{src:"https://blog.xxwhite.com/assets/img/2020/09/200904_144833_msedge_jT7a.png",alt:""}})]),t._v(" "),s("p",[t._v("然后回到  "),s("code",[t._v("共享文件夹")]),t._v("  选项卡里，这里可以对用户组设置权限")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://blog.xxwhite.com/assets/img/2020/09/200904_145618_msedge_T5PH.png",alt:""}})]),t._v(" "),s("p",[s("img",{attrs:{src:"https://blog.xxwhite.com/assets/img/2020/09/200904_145709_msedge_bAZx.png",alt:""}})]),t._v(" "),s("p",[t._v("按照上图的设置")]),t._v(" "),s("ul",[s("li",[t._v("media 目录，bosss 用户组下的用户有读写权限，Media-department 用户组下的用户有读写权限，Network-department 用户组下的用户有读取权限；")]),t._v(" "),s("li",[t._v("network 目录，bosss 用户组下的用户有读写权限，Network-department 用户组下的用户有读写权限。")])]),t._v(" "),s("p",[t._v("然后来到  "),s("code",[t._v("用户")]),t._v("  选项卡，然后添加用户，别忘了要加入到相应的用户组")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://blog.xxwhite.com/assets/img/2020/09/200904_150312_msedge_PS5D.png",alt:""}})]),t._v(" "),s("p",[s("img",{attrs:{src:"https://blog.xxwhite.com/assets/img/2020/09/200904_150418_msedge_eeLl.png",alt:""}})]),t._v(" "),s("p",[t._v("接着为每个部门的每个用户创建账号，就可以按照用户组管理权限了。")]),t._v(" "),s("h3",{attrs:{id:"直接使用用户管理权限"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#直接使用用户管理权限"}},[t._v("#")]),t._v(" 直接使用用户管理权限")]),t._v(" "),s("p",[t._v("这种方式更适合自己使用 NAS，或者固定的几个人使用，适合家庭 NAS。")]),t._v(" "),s("p",[t._v("和前面类似，知识不需要创建那么多用户组，创建用户的时候也不需要加入用户组。")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://blog.xxwhite.com/assets/img/2020/09/200904_150923_msedge_iJXX.png",alt:""}})]),t._v(" "),s("p",[t._v("注意，看上面那张图，分清用户组和用户的不同。")]),t._v(" "),s("p",[t._v("不创建用户组是因为用户少，而且固定，直接管理即可，没必要那么麻烦，搞多个用户组。")]),t._v(" "),s("h3",{attrs:{id:"特权"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#特权"}},[t._v("#")]),t._v(" 特权")]),t._v(" "),s("p",[t._v("特权是 ACL 之外的补充，是一种更灵活的权限管理.")]),t._v(" "),s("h2",{attrs:{id:"smb-共享"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#smb-共享"}},[t._v("#")]),t._v(" SMB 共享")]),t._v(" "),s("p",[t._v("前面的步骤只是在磁盘里创建了共享目录，但是并没有真正共享出去，我们还需要开启 SMB 服务。")]),t._v(" "),s("p",[t._v("在  "),s("code",[t._v("服务")]),t._v("  -  "),s("code",[t._v("SMB/CIFS")]),t._v("  选项卡下，启用 SMB 服务")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://blog.xxwhite.com/assets/img/2020/09/200904_151722_msedge_HHwQ.png",alt:""}})]),t._v(" "),s("p",[t._v("然后添加共享，注意前面创建的共享文件夹都要添加到共享，共享下面的选项可以自行判断是否需要勾选，比如是否开启某些特性（可以百度），是否开启回收站等。")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://blog.xxwhite.com/assets/img/2020/09/200904_151828_msedge_oB7M.png",alt:""}})]),t._v(" "),s("p",[t._v("然后在 Windows 电脑上，资源管理器地址栏输入  "),s("code",[t._v("\\\\omv")]),t._v("  或者是  "),s("code",[t._v("\\\\192.168.1.xxx")]),t._v(" （ip），就可以访问，输入账号和密码登录。如果需要磁盘映射，可以直接右键点击需要映射的目录，然后映射网络驱动器即可。")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://blog.xxwhite.com/assets/img/2020/09/200904_152540_dopus_1d20.png",alt:""}})]),t._v(" "),s("p",[s("img",{attrs:{src:"https://blog.xxwhite.com/assets/img/2020/09/200904_152640_dopus_7F9P.png",alt:""}})]),t._v(" "),s("p",[s("img",{attrs:{src:"https://blog.xxwhite.com/assets/img/2020/09/200904_152659_dopus_7O5q.png",alt:""}})]),t._v(" "),s("hr",{staticClass:"footnotes-sep"}),t._v(" "),s("section",{staticClass:"footnotes"},[s("ol",{staticClass:"footnotes-list"},[s("li",{staticClass:"footnote-item",attrs:{id:"fn1"}},[s("p",[s("a",{attrs:{href:"https://openmediavault.readthedocs.io/en/5.x/administration/access_rights_management.html#acl-access-control-list",target:"_blank",rel:"noopener noreferrer"}},[t._v("ACL (Access Control List)"),s("OutboundLink")],1),t._v(" "),s("a",{staticClass:"footnote-backref",attrs:{href:"#fnref1"}},[t._v("↩︎")])])]),t._v(" "),s("li",{staticClass:"footnote-item",attrs:{id:"fn2"}},[s("p",[s("a",{attrs:{href:"https://zh.wikipedia.org/wiki/RAID",target:"_blank",rel:"noopener noreferrer"}},[t._v("RAID"),s("OutboundLink")],1),t._v(" "),s("a",{staticClass:"footnote-backref",attrs:{href:"#fnref2"}},[t._v("↩︎")])])])])])])}),[],!1,null,null,null);_.default=e.exports}}]);